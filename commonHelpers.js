import"./assets/modulepreload-polyfill-3cfb730f.js";/* empty css                      */import{a as l}from"./assets/vendor-09d7c26e.js";const s="http://localhost:3000/todos",n=document.querySelector(".todo-form"),o=document.querySelector(".list");n.addEventListener("submit",u);o.addEventListener("click",m);o.addEventListener("click",h);d();async function r(t={}){const{data:a}=await l(t);return a}function i(t){return t.map(({id:a,title:e,completed:c})=>`<li class="list-item" data-id="${a}">
          <input type="checkbox" class="list-checkbox" ${c&&"checked"}>
          <h2 class="list-title">${e}</h2>
          <button class="list-btn">x</button>
        </li> `).join("")}async function d(){try{const t=await r({url:s});o.insertAdjacentHTML("beforeend",i(t))}catch(t){alert(t.message)}}async function u(t){t.preventDefault();const{todo:a}=t.target.elements;console.log(a.value);try{const e=await r({method:"POST",url:s,data:{title:a.value,completed:!1}});o.insertAdjacentHTML("beforeend",i([e]))}catch(e){alert(e.message)}finally{n.reset()}}async function m(t){if(!t.target.classList.contains("list-checkbox"))return;t.preventDefault(),console.log(t.target.checked);const e=t.target.closest(".list-item").dataset.id;try{const c=await r({url:`${s}/${e}`,method:"PATCH",data:{completed:t.target.checked}});t.target.checked=c.completed}catch(c){alert(c.message)}}async function h(t){if(!t.target.classList.contains("list-btn"))return;const e=t.target.closest(".list-item").dataset.id;try{await r({url:`${s}/${e}`,method:"DELETE"})}catch(c){alert(c.message)}}
//# sourceMappingURL=commonHelpers.js.map
