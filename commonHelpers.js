import"./assets/modulepreload-polyfill-3cfb730f.js";/* empty css                      */import{a as l}from"./assets/vendor-09d7c26e.js";const c="http://localhost:3000/todos",n=document.querySelector(".todo-form"),r=document.querySelector(".list");n.addEventListener("submit",u);r.addEventListener("click",m);r.addEventListener("click",h);d();async function o(t={}){const{data:a}=await l(t);return a}function i(t){return t.map(({id:a,title:e,completed:s})=>`<li class="list-item" data-id="${a}">
          <input type="checkbox" class="list-checkbox" ${s&&"checked"}>
          <h2 class="list-title">${e}</h2>
          <button class="list-btn">x</button>
        </li> `).join("")}async function d(){try{const t=await o({url:c});r.insertAdjacentHTML("beforeend",i(t))}catch(t){alert(t.message)}}async function u(t){t.preventDefault();const{todo:a}=t.target.elements;console.log(a.value);try{const e=await o({method:"POST",url:c,data:{title:a.value,completed:!1}});r.insertAdjacentHTML("beforeend",i([e]))}catch(e){alert(e.message)}finally{n.reset()}}async function m(t){if(!t.target.classList.contains("list-checkbox"))return;t.preventDefault();const e=t.target.closest(".list-item").dataset.id;try{const s=await o({url:`${c}/${e}`,method:"PATCH",data:{completed:t.target.checked}});t.target.checked=s.completed}catch(s){alert(s.message)}}async function h(t){if(!t.target.classList.contains("list-btn"))return;const e=t.target.closest(".list-item").dataset.id;try{await o({url:`${c}/${e}`,method:"DELETE"})}catch(s){alert(s.message)}}
//# sourceMappingURL=commonHelpers.js.map
